<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css" />

    <title>Resultados</title>
  </head>
  <body>
    <div class="line">
      <div id="tittle">
        <h1>FUT CHAMPIONS APP</h1>
      </div>

      <form id="input">
        <label for="pointsUser">
          <input
            type="number"
            id="pointsUser"
            placeholder="Cuantos puntos llevas?"
            required
            min="1"
            max="80"
          />
        </label>
        <label for="matchUser">
          <input
            type="number"
            id="matchUser"
            placeholder="Partidos restantes"
            min="1"
            max="20"
          />
        </label>
        <p id="valueInput">Dale una patada al balón</p>
        <div id="button">
          <button type="button" onclick="getPoints()">
            <img
              src="https://as1.ftcdn.net/v2/jpg/01/81/92/86/1000_F_181928640_bOxkLVwvlHDlKBzjz27daK9QNhaSm89E.jpg"
            />
          </button>
        </div>
      </form>
      <div id="midfield">
        <div id="midfield-sphere"></div>
      </div>
      <footer id="footer">
        <a href="https://joseperezdmgz.netlify.app/" target="_blank">
          joseperezdmgz©
        </a>
      </footer>
    </div>

    <script>
      const getPoints = () => {
        let pointsUser = document.getElementById("pointsUser").value;
        let matchUser = document.getElementById("matchUser").value;

        calculator(pointsUser, matchUser);
      };

      function calculator(pointsUser, matchUser) {
        let match = 20 - matchUser;
        let wins = 0;
        let defeats = match;

        for (let i = 0; i < 20; i++) {
          if (pointsUser == 0 && matchUser == 20) {
            return (document.getElementById("valueInput").innerHTML =
              "Aún no has empezado. Espabila que te quedas sin rojos");
          }
          if (wins * 4 + defeats != pointsUser) {
            wins++, defeats--;
          }
          if (
            pointsUser % 4 == 0 &&
            wins == match &&
            wins > 0 &&
            wins * 4 == pointsUser
          ) {
            return (document.getElementById("valueInput").innerHTML =
              "Pleno de victorias: " + wins + "-" + 0);
          }
          if (defeats + wins == match && pointsUser == wins * 4 + defeats) {
            return (document.getElementById("valueInput").innerHTML =
              "Vas " + wins + "-" + defeats);
          }
          if (defeats < 0 || pointsUser == 0 || matchUser == 0) {
            return (document.getElementById("valueInput").innerHTML =
              "Algo va mal");
          }
        }
      }
    </script>
  </body>
</html>
